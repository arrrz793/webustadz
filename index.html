<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ustadz Quote Generator</title>

<style>
body{
  margin:0;
  font-family:system-ui,Arial,sans-serif;
  background:#0f1f33; /* BIRU TUA */
  color:#fff;
}

.container{
  max-width:420px;
  margin:auto;
  padding:16px;
}

/* ===== HEADER DIPERKECIL ===== */
.header-box{
  background:rgba(120,180,255,0.18); /* BIRU MUDA TRANSPARAN */
  border-radius:18px;
  padding:14px;
  margin-bottom:14px;
}

h1{
  text-align:center;
  font-size:22px;
  margin:0 0 4px;
  white-space:nowrap; /* TIDAK PECAH BARIS */
}

.subtitle{
  text-align:center;
  font-size:13px;
  opacity:.85;
  margin-bottom:10px;
  white-space:nowrap;
}

textarea{
  width:100%;
  border-radius:12px;
  border:none;
  padding:10px;
  font-size:14px;
  resize:none;
  background:rgba(255,255,255,0.15);
  color:#fff;
}

textarea::placeholder{
  color:rgba(255,255,255,.7);
}

.counter{
  text-align:right;
  font-size:11px;
  opacity:.6;
  margin-top:4px;
}

button{
  width:100%;
  border:none;
  border-radius:14px;
  padding:12px;
  margin-top:12px;
  font-size:15px;
  background:#67a6ff;
  color:#fff;
  cursor:pointer;
}

button:active{
  transform:scale(.97);
}

/* ===== HASIL ===== */
.photo-box{
  margin-top:16px;
  background:#1a2c40;
  border-radius:18px;
  padding:14px;
}

.canvas-wrap{
  position:relative;
  border-radius:16px;
  overflow:hidden;
}

canvas{
  width:100%;
  display:block;
}

.action{
  display:flex;
  gap:10px;
  margin-top:12px;
}

.action button{
  flex:1;
  background:#2c405c;
}

/* ===== FOOTER ===== */
.footer{
  margin-top:18px;
  text-align:center;
  font-size:13px;
  padding:10px;
  border:1px solid rgba(255,255,255,.25); /* GARIS TEPI */
  border-radius:14px;
  opacity:.9;
}
</style>
</head>

<body>
<div class="container">

  <div class="header-box">
    <h1>Ustadz Quote Generator</h1>
    <div class="subtitle">
      Buat Soalan Ustadz Dengan Mudah, Hanya Untuk Have Fun.
    </div>

    <textarea id="text" rows="3" maxlength="200"
      placeholder="Pak ustadz apa hukumnya..."></textarea>
    <div class="counter"><span id="count">0</span>/200</div>

    <button onclick="generate()">Generate</button>
  </div>

  <div class="photo-box">
    <div class="canvas-wrap">
      <canvas id="canvas" width="1080" height="1350"></canvas>
    </div>

    <div class="action">
      <button onclick="download()">Download</button>
      <button onclick="resetAll()">Reset</button>
    </div>
  </div>

  <div class="footer">
    Developed By Arrz<br>
    My Number<br>
    +6285786145216<br>
    My Telegram<br>
    @arzoffc
  </div>

</div>

<script>
const textInput = document.getElementById("text");
const count = document.getElementById("count");
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

textInput.addEventListener("input",()=>{
  count.textContent = textInput.value.length;
});

const img = new Image();
img.src = "foto.jpg"; // TANPA WATERMARK

img.onload = ()=> draw("");

function draw(text){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.drawImage(img,0,0,canvas.width,canvas.height);

  // BOX PUTIH
  ctx.fillStyle="#fff";
  ctx.beginPath();
  ctx.roundRect(100,120,880,360,40);
  ctx.fill();

  // HEADER HITAM
  ctx.fillStyle="#000";
  ctx.beginPath();
  ctx.roundRect(100,120,880,80,40);
  ctx.fill();

  ctx.fillStyle="#fff";
  ctx.font="bold 42px Arial";
  ctx.textAlign="center";
  ctx.fillText("Soalan",540,175);

  ctx.fillStyle="#000";
  ctx.font="bold 46px Arial";
  wrapText(text,540,250,760,60);
}

function wrapText(text,x,y,maxWidth,lineHeight){
  const words=text.split(" ");
  let line="";
  for(let n=0;n<words.length;n++){
    const test=line+words[n]+" ";
    if(ctx.measureText(test).width>maxWidth){
      ctx.fillText(line,x,y);
      line=words[n]+" ";
      y+=lineHeight;
    }else{
      line=test;
    }
  }
  ctx.fillText(line,x,y);
}

function generate(){
  draw(textInput.value || "");
}

function download(){
  const a=document.createElement("a");
  a.download="foto.jpg";
  a.href=canvas.toDataURL("image/jpeg",1.0);
  a.click();
}

function resetAll(){
  textInput.value="";
  count.textContent="0";
  draw("");
}
</script>

</body>
</html>
